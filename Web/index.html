<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>Event Creation Form</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<style type="text/css">
		form {text-align: center;}
		div {text-align: center;}
		input {text-align: center;}
		</style>

		<script type="text/javascript">

			function BuildFormFields($amount)
			{
				var
					$container = document.getElementById('FormFields'),
					$item, $field, $i;

				$container.innerHTML = '';
				for ($i = 0; $i < $amount; $i++) {
					$item = document.createElement('div');
					$item.style.margin = '3px';

					$field = document.createElement('span');
					$field.innerHTML = 'Option ' + [$i];
					$field.style.marginRight = '10px';
					$item.appendChild($field);

					$field = document.createElement('input');
					$field.name = 'Design[' + $i + ']';
					$field.type = 'text';
					$item.appendChild($field);

					$container.appendChild($item);
				}
			}
			var xhr = new XMLHttpRequest();
				method = "GET";
				url = "https://willcodeformoney.com/";
			xhr.open(method, url, true);
			xhr.onreadystatechange = function (){
				if (xhr.readystate == XMLHttpRequest.DONE && XHR.status == 200) {
					console.log(xhr.responseText);
				}
				var event = document.getElementById('event').value;
   				var description = document.getElementById('description').value;
   				var location = document.getElementById('location').value;
   				var startdate = document.getElementById('startdate').value;
   				var startusr_time = document.getElementById('startusr_time').value;
   				var enddate = document.getElementById('enddate').value;
   				var endusr_time = document.getElementById('endusr_time').value;
   				var image = document.getElementById('image').value;

   				var queryString = "?event=" + event ;
				queryString +=  "&description=" + description + "&location=" + location + "&startdate=" + startdate + "&startusr_time=" + startusr_time + "&enddate=" + enddate + "&endusr_time=" + endusr_time + "&image=" + image;

   				for ($i = 0; $i < $amount; $i++) {
   					var option $i = document.getElementById('option[' + $i + ']').value;
   					queryString += "&option $i" + option $i;
   					
			};
			xhr.send();

		</script>

	</head>
	<body>
	<br>
	<br>

		<form method="post" action="confirm.html">
		Event Name <br>
		<input type="text" name="event"><br>
		<br>
		Description <br><input type="text" name="description"><br>
		<br>
		Location <br><input type="text" name="location"><br>
		<br>

		Start <input type="date" name="startdate"> <input type="time" name="startusr_time">
		<br>
		End <input type="date" name="enddate"> <input type="time" name="endusr_time">
		<br>
		<br>
		Select an Image <input type="link" name="image"> <br> 
		<br>
		
			How Many Options? <br><input type="text" onkeyup="BuildFormFields(parseInt(this.value, 10));" />
			<div id="FormFields" style="margin: 20px 0px;"> </div>
			<input type="submit" value="Create Event"/>
		</form>

	</body>
</html>